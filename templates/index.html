{% extends 'base.html' %}

{% block title %}Home - Repository Analysis{% endblock %}

{% block content %}
<h1>Repository Analysis</h1>

<!-- Form for Directory Selection -->
<form method="POST" action="{{ url_for('analyze') }}" style="margin-top: 20px;">
    <div style="margin-bottom: 20px;">
        <label for="directory">Directory to Analyze:</label><br>
        <!-- Pre-populate with the root directory of the repo and make the input field larger -->
        <input type="text" id="directory" name="directory" value="{{ root_directory }}" style="width: 95%; font-size: 16px; padding: 8px;" required>
        <!-- Button to choose another directory -->
        <button type="button" onclick="chooseDirectory()" style="margin-top: 10px;">Choose Another Directory</button>
    </div>
    
    <!-- Button to initiate analysis -->
    <button type="submit" style="margin-top: 20px;">Get to Analyzing</button>
</form>

<script>
    function chooseDirectory() {
        // Use the file input dialog to select a directory (depends on the platform)
        // This is a placeholder; handling directory selection dynamically depends on the web browser and may require server-side handling
        alert("Directory selection feature depends on browser capabilities and requires additional setup.");
    }
</script>
{% endblock %}